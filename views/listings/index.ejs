<% layout('layouts/boilerplate') -%>

<style>
    .filter{
        margin-top:1rem;
        margin-right:2rem;
        text-align:center;
        opacity:0.5;
    }
    
    .filter:hover{
      opacity:1;
      cursor:pointer;
    }
    #filters{
        display:flex;
        flex-wrap:wrap;
        align-items:center;
    }

    .filter p{
        font-size:0.8rem;
    }

.tax-info{
     /* visibility: hidden;      by this element becoe invisible but jis place pai wo hai wo place pai rehega but dikhega nhi   */
display:none;
}

.tax-toogle{
    border:2px solid black;
    border-radius:1rem;
    height:3.0rem;
    margin-left:3rem;
    padding: 1rem;
    display: flex;
    align-items: center;
}

</style>



<div id="filters">

    <div class="filter">
      <i class="fa-solid fa-fire"></i>
      <p>Trending</p>
    </div>
  
    <div class="filter">
      <i class="fa-solid fa-hotel"></i>
      <p>Hotels</p>
    </div>
  
    <div class="filter">
      <i class="fa-solid fa-umbrella-beach"></i>
      <p>Resorts</p>
    </div>
  
    <div class="filter">
      <i class="fa-solid fa-bed"></i>
      <p>Hostels</p>
    </div>
  
    <div class="filter">
      <i class="fa-solid fa-house-chimney"></i>
      <p>Villas</p>
    </div>
  
    <div class="filter">
      <i class="fa-solid fa-building"></i>
      <p>Apartments</p>
    </div>
  
    <div class="filter">
      <i class="fa-solid fa-water"></i>
      <p>Beachfront</p>
    </div>
  
    <div class="filter">
        <i class="fa-solid fa-house"></i>
        <p>Cabins</p>
      </div>
  
    <div class="filter">
      <i class="fa-solid fa-gem"></i>
      <p>Luxury</p>
    </div>
  
    <div class="filter">
      <i class="fa-solid fa-wallet"></i>
      <p>Budget</p>
    </div>
  
    <div class="filter">
      <i class="fa-solid fa-person-hiking"></i>
      <p>Adventure</p>
    </div>
  
    <div class="filter">
        <i class="fa-solid fa-route"></i>
        <p>Road Trips</p>
      </div>
    
 
  
    <div class="tax-toogle">

        <div class="form-check form-switch form-check-reverse">
            <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
            <label class="form-check-label" for="switchCheckDefault">Display total after taxes</label>
          </div>
      
    
      </div>
  </div>
  










<div class="row row-cols-lg-3 row-cols-md-3 row-cols-sm-1 mt-3">
    <% for(let listing of allListing) { %>
        <a href="listings/<%=listing.id%>" class="Listing-link">
            <div class="card col listing-card">
                <img src="<%=listing.image.url%>" class="card-img-top" alt="Listing_image">
                <div class="card-img-overlay">abcd</div>
                <div class="card-body">
                    <p class="card-text">
                        <b><%=listing.title%></b>
                        <br>
                        <!-- Added a conditional check to ensure listing.price is not null or undefined -->
                        <% if (listing.price !== null && listing.price !== undefined) { %>
                            <!-- If price is valid, format it using toLocaleString -->
                            &#8377; <%=listing.price.toLocaleString('en-IN')%> /night
                        <% } else { %>
                            <!-- If price is null or undefined, display a fallback message -->
                            &#8377; Price not available /night
                        <% } %>
                        <i class="tax-info"> &nbsp; +18% GST</i>
                    </p>
                </div>
            </div>
        </a>
    <% } %>
</div>



<script>




    let taxSwitch=document.getElementById('switchCheckDefault');
    taxSwitch.addEventListener('click',()=>{
        
   let taxInfo=document.getElementsByClassName('tax-info');
   console.log(taxInfo);
   for(info of taxInfo){
    if(info.style.display!="inline"){
        info.style.display="inline";
    }
 else{
    info.style.display="none";
 }
   }

    })
</script>









<!-- for(let listing of allListing)  {

<li> <a href="listings/listing._id%>" >listing.title </a>  </li>



}



</ul> -->





